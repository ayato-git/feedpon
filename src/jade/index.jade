doctype html

html(ng-app="feedpon")
  head
    meta(charset="utf-8")
    meta(name="format-detection" content="telephone=no")
    meta(name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, target-densitydpi=device-dpi")
    meta(name="apple-mobile-web-app-capable" content="yes")
    meta(name="apple-mobile-web-app-status-bar-style" content="black")
    meta(name="msapplication-tap-highlight" content="no")
    link(rel="stylesheet" href="css/index.css")
    title Feedpon

  body
    ion-side-menus
      ion-side-menu-content(ng-controller="ContentController as content")
        ion-header-bar
          .buttons
            button.button(ng-click="content.toggleLeft()")
              i.icon.ion-navicon
          h1.title Feedpon

        ion-content
          .button.button-full.button-positive(ng-click="content.authenticate()") Authenticate

      ion-side-menu(ng-controller="SubscriptionController as subscription" side="left")
        ion-header-bar

        ion-content
          ion-refresher(pulling-text="Pull to refresh..." on-refresh="subscription.refresh()")

          ul.list
            li(ng-repeat="category in categories")
              .item.item-divider {{category.label}}

              ul
                li(ng-repeat="item in items | filter:{category: category}")
                  a.item.item-icon-right(href="#")
                    img(alt="favicon" width="16" height="16" src="https://www.google.com/s2/favicons?domain_url={{item.subscription.website}}&alt=feed")
                    | &nbsp;{{item.subscription.title}}
                    span.badge.badge-assertive(ng-if="item.unreadCount.count > 0") {{item.unreadCount.count}}

    script(src="cordova.js")
    script(src="js/index.js")
